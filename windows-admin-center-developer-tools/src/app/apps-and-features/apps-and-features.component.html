<!-- Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the MIT License. -->

 <sme-split-view class="sme-layout-absolute sme-position-inset-none" #sv>
    <sme-split-view-content>
        <sme-master-view #masterView header="Apps and Features" [showCustomFilter]="true" [total]="smeDataTable.renderedItems.length" [selection]="selection" [filterActive]="active" (clearSelection)="selection = null" (refresh)="alert('refreshed')" (filter)="active = !active; alert('filter active: ' + active)"
            (clearSelection)="selection=null">
            <sme-loading-wheel *ngIf="loading"></sme-loading-wheel>
            <sme-action-bar #actionBar>
                <sme-action-button #action [text]="'Add App'" [iconClass]="'sme-icon icon-win-add'" (execute)="masterView.searchable = !masterView.searchable"></sme-action-button>
                <sme-action-button #action [text]="'Remove App'" [iconClass]="'sme-icon icon-win-delete'" (execute)="removeApp(selection.prodID, selection.fullItem)"></sme-action-button>
            </sme-action-bar>

            <!-- <div class="sme-master-view-custom-filter sme-arrange-stack-h sme-layout-action-bar-item">
                <span class="sme-scheme-secondary-text sme-arrange-ws-nowrap" for="groupBy"> Group by:</span>
                <div class="sme-select">
                    <select id="groupBy" required [(ngModel)]="groupField" name="groupBy" #groupBy="ngModel" (ngModelChange)="onDropdownChange($event)">
                      <option *ngFor="let option of groupByOptions" [value]="option.field">{{option.displayName}}</option>
                    </select>
                </div>
            </div> -->

            <input #search type="search" pInputText autofocus>

            <sme-data-table #smeDataTable [items]="apps" [(selection)]="selection" [globalFilter]="search" (onClick)="enabled = true">
                <sme-data-table-column field="displayName" header="Name" sortable="true">
                </sme-data-table-column>
                <sme-data-table-column field="publisher" header="Publisher" sortable="true" [searchable]="false">
                </sme-data-table-column>
            </sme-data-table>
        </sme-master-view>
    </sme-split-view-content>

    <sme-split-view-pane>
        <sme-details [title]="strings.detailsTitle.format(selection ? selection.displayName : '')" [(isExpanded)]="sv.isExpanded">
            <div *ngIf="selection">
                <div role="tabpanel" class="details-panel relative">
                    <label *ngIf="selection.displayName">Name: {{selection.displayName}}</label>
                    <label *ngIf="selection.publisher">Publisher: {{selection.publisher}}</label>
                    <label *ngIf="selection.version">Version: {{selection.version}}</label>
                </div>
            </div>
            <div *ngIf="!selection" class="fixed-flex-size">Select an app to learn more.</div>
        </sme-details>
    </sme-split-view-pane>

</sme-split-view>
